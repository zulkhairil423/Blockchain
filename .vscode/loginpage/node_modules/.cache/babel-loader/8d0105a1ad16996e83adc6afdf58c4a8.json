{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst fs_extra_1 = __importDefault(require(\"fs-extra\"));\n\nconst config_env_1 = require(\"../internal/core/config/config-env\");\n\nconst global_dir_1 = require(\"../internal/util/global-dir\");\n\nconst task_names_1 = require(\"./task-names\");\n\n(0, config_env_1.subtask)(task_names_1.TASK_CLEAN_GLOBAL, async () => {\n  const globalCacheDir = await (0, global_dir_1.getCacheDir)();\n  await fs_extra_1.default.emptyDir(globalCacheDir);\n});\n(0, config_env_1.task)(task_names_1.TASK_CLEAN, \"Clears the cache and deletes all artifacts\").addFlag(\"global\", \"Clear the global cache\").setAction(async (_ref, _ref2) => {\n  let {\n    global\n  } = _ref;\n  let {\n    config,\n    run,\n    artifacts\n  } = _ref2;\n\n  if (global) {\n    return run(task_names_1.TASK_CLEAN_GLOBAL);\n  }\n\n  await fs_extra_1.default.emptyDir(config.paths.cache);\n  await fs_extra_1.default.remove(config.paths.artifacts);\n  artifacts.clearCache?.();\n});","map":{"version":3,"mappings":";;;;;;;;;;;;AAAA;;AAEA;;AACA;;AAEA;;AAEA,0BAAQA,8BAAR,EAA2B,YAAW;EACpC,MAAMC,cAAc,GAAG,MAAM,+BAA7B;EACA,MAAMC,mBAAQC,QAAR,CAAiBF,cAAjB,CAAN;AACD,CAHD;AAKA,uBAAKD,uBAAL,EAAiB,4CAAjB,EACGI,OADH,CACW,QADX,EACqB,wBADrB,EAEGC,SAFH,CAGI,uBAAsE;EAAA,IAA/D;IAAEC;EAAF,CAA+D;EAAA,IAA9B;IAAEC,MAAF;IAAUC,GAAV;IAAeC;EAAf,CAA8B;;EACpE,IAAIH,MAAJ,EAAY;IACV,OAAOE,GAAG,CAACR,8BAAD,CAAV;EACD;;EACD,MAAME,mBAAQC,QAAR,CAAiBI,MAAM,CAACG,KAAP,CAAaC,KAA9B,CAAN;EACA,MAAMT,mBAAQU,MAAR,CAAeL,MAAM,CAACG,KAAP,CAAaD,SAA5B,CAAN;EACAA,SAAS,CAACI,UAAV;AACD,CAVL","names":["task_names_1","globalCacheDir","fs_extra_1","emptyDir","addFlag","setAction","global","config","run","artifacts","paths","cache","remove","clearCache"],"sources":["C:\\Users\\LeonyX\\Documents\\Blockchain\\.vscode\\loginpage\\node_modules\\hardhat\\src\\builtin-tasks\\clean.ts"],"sourcesContent":["import fsExtra from \"fs-extra\";\n\nimport { subtask, task } from \"../internal/core/config/config-env\";\nimport { getCacheDir } from \"../internal/util/global-dir\";\n\nimport { TASK_CLEAN, TASK_CLEAN_GLOBAL } from \"./task-names\";\n\nsubtask(TASK_CLEAN_GLOBAL, async () => {\n  const globalCacheDir = await getCacheDir();\n  await fsExtra.emptyDir(globalCacheDir);\n});\n\ntask(TASK_CLEAN, \"Clears the cache and deletes all artifacts\")\n  .addFlag(\"global\", \"Clear the global cache\")\n  .setAction(\n    async ({ global }: { global: boolean }, { config, run, artifacts }) => {\n      if (global) {\n        return run(TASK_CLEAN_GLOBAL);\n      }\n      await fsExtra.emptyDir(config.paths.cache);\n      await fsExtra.remove(config.paths.artifacts);\n      artifacts.clearCache?.();\n    }\n  );\n"]},"metadata":{},"sourceType":"script"}