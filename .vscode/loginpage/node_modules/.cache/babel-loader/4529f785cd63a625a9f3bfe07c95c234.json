{"ast":null,"code":"'use strict';\n/**\n * @module Markdown\n */\n\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\n\nvar utils = require('../utils');\n\nvar constants = require('../runner').constants;\n\nvar EVENT_RUN_END = constants.EVENT_RUN_END;\nvar EVENT_SUITE_BEGIN = constants.EVENT_SUITE_BEGIN;\nvar EVENT_SUITE_END = constants.EVENT_SUITE_END;\nvar EVENT_TEST_PASS = constants.EVENT_TEST_PASS;\n/**\n * Constants\n */\n\nvar SUITE_PREFIX = '$';\n/**\n * Expose `Markdown`.\n */\n\nexports = module.exports = Markdown;\n/**\n * Constructs a new `Markdown` reporter instance.\n *\n * @public\n * @class\n * @memberof Mocha.reporters\n * @extends Mocha.reporters.Base\n * @param {Runner} runner - Instance triggers reporter actions.\n * @param {Object} [options] - runner options\n */\n\nfunction Markdown(runner, options) {\n  Base.call(this, runner, options);\n  var level = 0;\n  var buf = '';\n\n  function title(str) {\n    return Array(level).join('#') + ' ' + str;\n  }\n\n  function mapTOC(suite, obj) {\n    var ret = obj;\n    var key = SUITE_PREFIX + suite.title;\n    obj = obj[key] = obj[key] || {\n      suite\n    };\n    suite.suites.forEach(function (suite) {\n      mapTOC(suite, obj);\n    });\n    return ret;\n  }\n\n  function stringifyTOC(obj, level) {\n    ++level;\n    var buf = '';\n    var link;\n\n    for (var key in obj) {\n      if (key === 'suite') {\n        continue;\n      }\n\n      if (key !== SUITE_PREFIX) {\n        link = ' - [' + key.substring(1) + ']';\n        link += '(#' + utils.slug(obj[key].suite.fullTitle()) + ')\\n';\n        buf += Array(level).join('  ') + link;\n      }\n\n      buf += stringifyTOC(obj[key], level);\n    }\n\n    return buf;\n  }\n\n  function generateTOC(suite) {\n    var obj = mapTOC(suite, {});\n    return stringifyTOC(obj, 0);\n  }\n\n  generateTOC(runner.suite);\n  runner.on(EVENT_SUITE_BEGIN, function (suite) {\n    ++level;\n    var slug = utils.slug(suite.fullTitle());\n    buf += '<a name=\"' + slug + '\"></a>' + '\\n';\n    buf += title(suite.title) + '\\n';\n  });\n  runner.on(EVENT_SUITE_END, function () {\n    --level;\n  });\n  runner.on(EVENT_TEST_PASS, function (test) {\n    var code = utils.clean(test.body);\n    buf += test.title + '.\\n';\n    buf += '\\n```js\\n';\n    buf += code + '\\n';\n    buf += '```\\n\\n';\n  });\n  runner.once(EVENT_RUN_END, function () {\n    process.stdout.write('# TOC\\n');\n    process.stdout.write(generateTOC(runner.suite));\n    process.stdout.write(buf);\n  });\n}\n\nMarkdown.description = 'GitHub Flavored Markdown';","map":{"version":3,"names":["Base","require","utils","constants","EVENT_RUN_END","EVENT_SUITE_BEGIN","EVENT_SUITE_END","EVENT_TEST_PASS","SUITE_PREFIX","exports","module","Markdown","runner","options","call","level","buf","title","str","Array","join","mapTOC","suite","obj","ret","key","suites","forEach","stringifyTOC","link","substring","slug","fullTitle","generateTOC","on","test","code","clean","body","once","process","stdout","write","description"],"sources":["C:/Users/LeonyX/Documents/Blockchain/.vscode/loginpage/node_modules/mocha/lib/reporters/markdown.js"],"sourcesContent":["'use strict';\n/**\n * @module Markdown\n */\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar utils = require('../utils');\nvar constants = require('../runner').constants;\nvar EVENT_RUN_END = constants.EVENT_RUN_END;\nvar EVENT_SUITE_BEGIN = constants.EVENT_SUITE_BEGIN;\nvar EVENT_SUITE_END = constants.EVENT_SUITE_END;\nvar EVENT_TEST_PASS = constants.EVENT_TEST_PASS;\n\n/**\n * Constants\n */\n\nvar SUITE_PREFIX = '$';\n\n/**\n * Expose `Markdown`.\n */\n\nexports = module.exports = Markdown;\n\n/**\n * Constructs a new `Markdown` reporter instance.\n *\n * @public\n * @class\n * @memberof Mocha.reporters\n * @extends Mocha.reporters.Base\n * @param {Runner} runner - Instance triggers reporter actions.\n * @param {Object} [options] - runner options\n */\nfunction Markdown(runner, options) {\n  Base.call(this, runner, options);\n\n  var level = 0;\n  var buf = '';\n\n  function title(str) {\n    return Array(level).join('#') + ' ' + str;\n  }\n\n  function mapTOC(suite, obj) {\n    var ret = obj;\n    var key = SUITE_PREFIX + suite.title;\n\n    obj = obj[key] = obj[key] || {suite};\n    suite.suites.forEach(function (suite) {\n      mapTOC(suite, obj);\n    });\n\n    return ret;\n  }\n\n  function stringifyTOC(obj, level) {\n    ++level;\n    var buf = '';\n    var link;\n    for (var key in obj) {\n      if (key === 'suite') {\n        continue;\n      }\n      if (key !== SUITE_PREFIX) {\n        link = ' - [' + key.substring(1) + ']';\n        link += '(#' + utils.slug(obj[key].suite.fullTitle()) + ')\\n';\n        buf += Array(level).join('  ') + link;\n      }\n      buf += stringifyTOC(obj[key], level);\n    }\n    return buf;\n  }\n\n  function generateTOC(suite) {\n    var obj = mapTOC(suite, {});\n    return stringifyTOC(obj, 0);\n  }\n\n  generateTOC(runner.suite);\n\n  runner.on(EVENT_SUITE_BEGIN, function (suite) {\n    ++level;\n    var slug = utils.slug(suite.fullTitle());\n    buf += '<a name=\"' + slug + '\"></a>' + '\\n';\n    buf += title(suite.title) + '\\n';\n  });\n\n  runner.on(EVENT_SUITE_END, function () {\n    --level;\n  });\n\n  runner.on(EVENT_TEST_PASS, function (test) {\n    var code = utils.clean(test.body);\n    buf += test.title + '.\\n';\n    buf += '\\n```js\\n';\n    buf += code + '\\n';\n    buf += '```\\n\\n';\n  });\n\n  runner.once(EVENT_RUN_END, function () {\n    process.stdout.write('# TOC\\n');\n    process.stdout.write(generateTOC(runner.suite));\n    process.stdout.write(buf);\n  });\n}\n\nMarkdown.description = 'GitHub Flavored Markdown';\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}