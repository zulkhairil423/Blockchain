{"ast":null,"code":"'use strict';\n\nconst {\n  InvalidArgumentError,\n  NotSupportedError\n} = require('./errors');\n\nconst assert = require('assert');\n\nconst util = require('./util'); // tokenRegExp and headerCharRegex have been lifted from\n// https://github.com/nodejs/node/blob/main/lib/_http_common.js\n\n/**\n * Verifies that the given val is a valid HTTP token\n * per the rules defined in RFC 7230\n * See https://tools.ietf.org/html/rfc7230#section-3.2.6\n */\n\n\nconst tokenRegExp = /^[\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]+$/;\n/**\n * Matches if val contains an invalid field-vchar\n *  field-value    = *( field-content / obs-fold )\n *  field-content  = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n *  field-vchar    = VCHAR / obs-text\n */\n\nconst headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/; // Verifies that a given path is valid does not contain control chars \\x00 to \\x20\n\nconst invalidPathRegex = /[^\\u0021-\\u00ff]/;\nconst kHandler = Symbol('handler');\nconst channels = {};\nlet extractBody;\nconst nodeVersion = process.versions.node.split('.');\nconst nodeMajor = Number(nodeVersion[0]);\nconst nodeMinor = Number(nodeVersion[1]);\n\ntry {\n  const diagnosticsChannel = require('diagnostics_channel');\n\n  channels.create = diagnosticsChannel.channel('undici:request:create');\n  channels.bodySent = diagnosticsChannel.channel('undici:request:bodySent');\n  channels.headers = diagnosticsChannel.channel('undici:request:headers');\n  channels.trailers = diagnosticsChannel.channel('undici:request:trailers');\n  channels.error = diagnosticsChannel.channel('undici:request:error');\n} catch {\n  channels.create = {\n    hasSubscribers: false\n  };\n  channels.bodySent = {\n    hasSubscribers: false\n  };\n  channels.headers = {\n    hasSubscribers: false\n  };\n  channels.trailers = {\n    hasSubscribers: false\n  };\n  channels.error = {\n    hasSubscribers: false\n  };\n}\n\nclass Request {\n  constructor(origin, _ref, handler) {\n    let {\n      path,\n      method,\n      body,\n      headers,\n      query,\n      idempotent,\n      blocking,\n      upgrade,\n      headersTimeout,\n      bodyTimeout,\n      throwOnError\n    } = _ref;\n\n    if (typeof path !== 'string') {\n      throw new InvalidArgumentError('path must be a string');\n    } else if (path[0] !== '/' && !(path.startsWith('http://') || path.startsWith('https://')) && method !== 'CONNECT') {\n      throw new InvalidArgumentError('path must be an absolute URL or start with a slash');\n    } else if (invalidPathRegex.exec(path) !== null) {\n      throw new InvalidArgumentError('invalid request path');\n    }\n\n    if (typeof method !== 'string') {\n      throw new InvalidArgumentError('method must be a string');\n    } else if (tokenRegExp.exec(method) === null) {\n      throw new InvalidArgumentError('invalid request method');\n    }\n\n    if (upgrade && typeof upgrade !== 'string') {\n      throw new InvalidArgumentError('upgrade must be a string');\n    }\n\n    if (headersTimeout != null && (!Number.isFinite(headersTimeout) || headersTimeout < 0)) {\n      throw new InvalidArgumentError('invalid headersTimeout');\n    }\n\n    if (bodyTimeout != null && (!Number.isFinite(bodyTimeout) || bodyTimeout < 0)) {\n      throw new InvalidArgumentError('invalid bodyTimeout');\n    }\n\n    this.headersTimeout = headersTimeout;\n    this.bodyTimeout = bodyTimeout;\n    this.throwOnError = throwOnError === true;\n    this.method = method;\n\n    if (body == null) {\n      this.body = null;\n    } else if (util.isStream(body)) {\n      this.body = body;\n    } else if (util.isBuffer(body)) {\n      this.body = body.byteLength ? body : null;\n    } else if (ArrayBuffer.isView(body)) {\n      this.body = body.buffer.byteLength ? Buffer.from(body.buffer, body.byteOffset, body.byteLength) : null;\n    } else if (body instanceof ArrayBuffer) {\n      this.body = body.byteLength ? Buffer.from(body) : null;\n    } else if (typeof body === 'string') {\n      this.body = body.length ? Buffer.from(body) : null;\n    } else if (util.isFormDataLike(body) || util.isIterable(body) || util.isBlobLike(body)) {\n      this.body = body;\n    } else {\n      throw new InvalidArgumentError('body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable');\n    }\n\n    this.completed = false;\n    this.aborted = false;\n    this.upgrade = upgrade || null;\n    this.path = query ? util.buildURL(path, query) : path;\n    this.origin = origin;\n    this.idempotent = idempotent == null ? method === 'HEAD' || method === 'GET' : idempotent;\n    this.blocking = blocking == null ? false : blocking;\n    this.host = null;\n    this.contentLength = null;\n    this.contentType = null;\n    this.headers = '';\n\n    if (Array.isArray(headers)) {\n      if (headers.length % 2 !== 0) {\n        throw new InvalidArgumentError('headers array must be even');\n      }\n\n      for (let i = 0; i < headers.length; i += 2) {\n        processHeader(this, headers[i], headers[i + 1]);\n      }\n    } else if (headers && typeof headers === 'object') {\n      const keys = Object.keys(headers);\n\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        processHeader(this, key, headers[key]);\n      }\n    } else if (headers != null) {\n      throw new InvalidArgumentError('headers must be an object or an array');\n    }\n\n    if (util.isFormDataLike(this.body)) {\n      if (nodeMajor < 16 || nodeMajor === 16 && nodeMinor < 8) {\n        throw new InvalidArgumentError('Form-Data bodies are only supported in node v16.8 and newer.');\n      }\n\n      if (!extractBody) {\n        extractBody = require('../fetch/body.js').extractBody;\n      }\n\n      const [bodyStream, contentType] = extractBody(body);\n\n      if (this.contentType == null) {\n        this.contentType = contentType;\n        this.headers += `content-type: ${contentType}\\r\\n`;\n      }\n\n      this.body = bodyStream.stream;\n    } else if (util.isBlobLike(body) && this.contentType == null && body.type) {\n      this.contentType = body.type;\n      this.headers += `content-type: ${body.type}\\r\\n`;\n    }\n\n    util.validateHandler(handler, method, upgrade);\n    this.servername = util.getServerName(this.host);\n    this[kHandler] = handler;\n\n    if (channels.create.hasSubscribers) {\n      channels.create.publish({\n        request: this\n      });\n    }\n  }\n\n  onBodySent(chunk) {\n    if (this[kHandler].onBodySent) {\n      try {\n        this[kHandler].onBodySent(chunk);\n      } catch (err) {\n        this.onError(err);\n      }\n    }\n  }\n\n  onRequestSent() {\n    if (channels.bodySent.hasSubscribers) {\n      channels.bodySent.publish({\n        request: this\n      });\n    }\n  }\n\n  onConnect(abort) {\n    assert(!this.aborted);\n    assert(!this.completed);\n    return this[kHandler].onConnect(abort);\n  }\n\n  onHeaders(statusCode, headers, resume, statusText) {\n    assert(!this.aborted);\n    assert(!this.completed);\n\n    if (channels.headers.hasSubscribers) {\n      channels.headers.publish({\n        request: this,\n        response: {\n          statusCode,\n          headers,\n          statusText\n        }\n      });\n    }\n\n    return this[kHandler].onHeaders(statusCode, headers, resume, statusText);\n  }\n\n  onData(chunk) {\n    assert(!this.aborted);\n    assert(!this.completed);\n    return this[kHandler].onData(chunk);\n  }\n\n  onUpgrade(statusCode, headers, socket) {\n    assert(!this.aborted);\n    assert(!this.completed);\n    return this[kHandler].onUpgrade(statusCode, headers, socket);\n  }\n\n  onComplete(trailers) {\n    assert(!this.aborted);\n    this.completed = true;\n\n    if (channels.trailers.hasSubscribers) {\n      channels.trailers.publish({\n        request: this,\n        trailers\n      });\n    }\n\n    return this[kHandler].onComplete(trailers);\n  }\n\n  onError(error) {\n    if (channels.error.hasSubscribers) {\n      channels.error.publish({\n        request: this,\n        error\n      });\n    }\n\n    if (this.aborted) {\n      return;\n    }\n\n    this.aborted = true;\n    return this[kHandler].onError(error);\n  }\n\n  addHeader(key, value) {\n    processHeader(this, key, value);\n    return this;\n  }\n\n}\n\nfunction processHeader(request, key, val) {\n  if (val && typeof val === 'object') {\n    throw new InvalidArgumentError(`invalid ${key} header`);\n  } else if (val === undefined) {\n    return;\n  }\n\n  if (request.host === null && key.length === 4 && key.toLowerCase() === 'host') {\n    // Consumed by Client\n    request.host = val;\n  } else if (request.contentLength === null && key.length === 14 && key.toLowerCase() === 'content-length') {\n    request.contentLength = parseInt(val, 10);\n\n    if (!Number.isFinite(request.contentLength)) {\n      throw new InvalidArgumentError('invalid content-length header');\n    }\n  } else if (request.contentType === null && key.length === 12 && key.toLowerCase() === 'content-type' && headerCharRegex.exec(val) === null) {\n    request.contentType = val;\n    request.headers += `${key}: ${val}\\r\\n`;\n  } else if (key.length === 17 && key.toLowerCase() === 'transfer-encoding') {\n    throw new InvalidArgumentError('invalid transfer-encoding header');\n  } else if (key.length === 10 && key.toLowerCase() === 'connection') {\n    throw new InvalidArgumentError('invalid connection header');\n  } else if (key.length === 10 && key.toLowerCase() === 'keep-alive') {\n    throw new InvalidArgumentError('invalid keep-alive header');\n  } else if (key.length === 7 && key.toLowerCase() === 'upgrade') {\n    throw new InvalidArgumentError('invalid upgrade header');\n  } else if (key.length === 6 && key.toLowerCase() === 'expect') {\n    throw new NotSupportedError('expect header not supported');\n  } else if (tokenRegExp.exec(key) === null) {\n    throw new InvalidArgumentError('invalid header key');\n  } else if (headerCharRegex.exec(val) !== null) {\n    throw new InvalidArgumentError(`invalid ${key} header`);\n  } else {\n    request.headers += `${key}: ${val}\\r\\n`;\n  }\n}\n\nmodule.exports = Request;","map":{"version":3,"names":["InvalidArgumentError","NotSupportedError","require","assert","util","tokenRegExp","headerCharRegex","invalidPathRegex","kHandler","Symbol","channels","extractBody","nodeVersion","process","versions","node","split","nodeMajor","Number","nodeMinor","diagnosticsChannel","create","channel","bodySent","headers","trailers","error","hasSubscribers","Request","constructor","origin","handler","path","method","body","query","idempotent","blocking","upgrade","headersTimeout","bodyTimeout","throwOnError","startsWith","exec","isFinite","isStream","isBuffer","byteLength","ArrayBuffer","isView","buffer","Buffer","from","byteOffset","length","isFormDataLike","isIterable","isBlobLike","completed","aborted","buildURL","host","contentLength","contentType","Array","isArray","i","processHeader","keys","Object","key","bodyStream","stream","type","validateHandler","servername","getServerName","publish","request","onBodySent","chunk","err","onError","onRequestSent","onConnect","abort","onHeaders","statusCode","resume","statusText","response","onData","onUpgrade","socket","onComplete","addHeader","value","val","undefined","toLowerCase","parseInt","module","exports"],"sources":["C:/Users/LeonyX/Documents/Blockchain/.vscode/loginpage/node_modules/undici/lib/core/request.js"],"sourcesContent":["'use strict'\n\nconst {\n  InvalidArgumentError,\n  NotSupportedError\n} = require('./errors')\nconst assert = require('assert')\nconst util = require('./util')\n\n// tokenRegExp and headerCharRegex have been lifted from\n// https://github.com/nodejs/node/blob/main/lib/_http_common.js\n\n/**\n * Verifies that the given val is a valid HTTP token\n * per the rules defined in RFC 7230\n * See https://tools.ietf.org/html/rfc7230#section-3.2.6\n */\nconst tokenRegExp = /^[\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]+$/\n\n/**\n * Matches if val contains an invalid field-vchar\n *  field-value    = *( field-content / obs-fold )\n *  field-content  = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n *  field-vchar    = VCHAR / obs-text\n */\nconst headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/\n\n// Verifies that a given path is valid does not contain control chars \\x00 to \\x20\nconst invalidPathRegex = /[^\\u0021-\\u00ff]/\n\nconst kHandler = Symbol('handler')\n\nconst channels = {}\n\nlet extractBody\n\nconst nodeVersion = process.versions.node.split('.')\nconst nodeMajor = Number(nodeVersion[0])\nconst nodeMinor = Number(nodeVersion[1])\n\ntry {\n  const diagnosticsChannel = require('diagnostics_channel')\n  channels.create = diagnosticsChannel.channel('undici:request:create')\n  channels.bodySent = diagnosticsChannel.channel('undici:request:bodySent')\n  channels.headers = diagnosticsChannel.channel('undici:request:headers')\n  channels.trailers = diagnosticsChannel.channel('undici:request:trailers')\n  channels.error = diagnosticsChannel.channel('undici:request:error')\n} catch {\n  channels.create = { hasSubscribers: false }\n  channels.bodySent = { hasSubscribers: false }\n  channels.headers = { hasSubscribers: false }\n  channels.trailers = { hasSubscribers: false }\n  channels.error = { hasSubscribers: false }\n}\n\nclass Request {\n  constructor (origin, {\n    path,\n    method,\n    body,\n    headers,\n    query,\n    idempotent,\n    blocking,\n    upgrade,\n    headersTimeout,\n    bodyTimeout,\n    throwOnError\n  }, handler) {\n    if (typeof path !== 'string') {\n      throw new InvalidArgumentError('path must be a string')\n    } else if (\n      path[0] !== '/' &&\n      !(path.startsWith('http://') || path.startsWith('https://')) &&\n      method !== 'CONNECT'\n    ) {\n      throw new InvalidArgumentError('path must be an absolute URL or start with a slash')\n    } else if (invalidPathRegex.exec(path) !== null) {\n      throw new InvalidArgumentError('invalid request path')\n    }\n\n    if (typeof method !== 'string') {\n      throw new InvalidArgumentError('method must be a string')\n    } else if (tokenRegExp.exec(method) === null) {\n      throw new InvalidArgumentError('invalid request method')\n    }\n\n    if (upgrade && typeof upgrade !== 'string') {\n      throw new InvalidArgumentError('upgrade must be a string')\n    }\n\n    if (headersTimeout != null && (!Number.isFinite(headersTimeout) || headersTimeout < 0)) {\n      throw new InvalidArgumentError('invalid headersTimeout')\n    }\n\n    if (bodyTimeout != null && (!Number.isFinite(bodyTimeout) || bodyTimeout < 0)) {\n      throw new InvalidArgumentError('invalid bodyTimeout')\n    }\n\n    this.headersTimeout = headersTimeout\n\n    this.bodyTimeout = bodyTimeout\n\n    this.throwOnError = throwOnError === true\n\n    this.method = method\n\n    if (body == null) {\n      this.body = null\n    } else if (util.isStream(body)) {\n      this.body = body\n    } else if (util.isBuffer(body)) {\n      this.body = body.byteLength ? body : null\n    } else if (ArrayBuffer.isView(body)) {\n      this.body = body.buffer.byteLength ? Buffer.from(body.buffer, body.byteOffset, body.byteLength) : null\n    } else if (body instanceof ArrayBuffer) {\n      this.body = body.byteLength ? Buffer.from(body) : null\n    } else if (typeof body === 'string') {\n      this.body = body.length ? Buffer.from(body) : null\n    } else if (util.isFormDataLike(body) || util.isIterable(body) || util.isBlobLike(body)) {\n      this.body = body\n    } else {\n      throw new InvalidArgumentError('body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable')\n    }\n\n    this.completed = false\n\n    this.aborted = false\n\n    this.upgrade = upgrade || null\n\n    this.path = query ? util.buildURL(path, query) : path\n\n    this.origin = origin\n\n    this.idempotent = idempotent == null\n      ? method === 'HEAD' || method === 'GET'\n      : idempotent\n\n    this.blocking = blocking == null ? false : blocking\n\n    this.host = null\n\n    this.contentLength = null\n\n    this.contentType = null\n\n    this.headers = ''\n\n    if (Array.isArray(headers)) {\n      if (headers.length % 2 !== 0) {\n        throw new InvalidArgumentError('headers array must be even')\n      }\n      for (let i = 0; i < headers.length; i += 2) {\n        processHeader(this, headers[i], headers[i + 1])\n      }\n    } else if (headers && typeof headers === 'object') {\n      const keys = Object.keys(headers)\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        processHeader(this, key, headers[key])\n      }\n    } else if (headers != null) {\n      throw new InvalidArgumentError('headers must be an object or an array')\n    }\n\n    if (util.isFormDataLike(this.body)) {\n      if (nodeMajor < 16 || (nodeMajor === 16 && nodeMinor < 8)) {\n        throw new InvalidArgumentError('Form-Data bodies are only supported in node v16.8 and newer.')\n      }\n\n      if (!extractBody) {\n        extractBody = require('../fetch/body.js').extractBody\n      }\n\n      const [bodyStream, contentType] = extractBody(body)\n      if (this.contentType == null) {\n        this.contentType = contentType\n        this.headers += `content-type: ${contentType}\\r\\n`\n      }\n      this.body = bodyStream.stream\n    } else if (util.isBlobLike(body) && this.contentType == null && body.type) {\n      this.contentType = body.type\n      this.headers += `content-type: ${body.type}\\r\\n`\n    }\n\n    util.validateHandler(handler, method, upgrade)\n\n    this.servername = util.getServerName(this.host)\n\n    this[kHandler] = handler\n\n    if (channels.create.hasSubscribers) {\n      channels.create.publish({ request: this })\n    }\n  }\n\n  onBodySent (chunk) {\n    if (this[kHandler].onBodySent) {\n      try {\n        this[kHandler].onBodySent(chunk)\n      } catch (err) {\n        this.onError(err)\n      }\n    }\n  }\n\n  onRequestSent () {\n    if (channels.bodySent.hasSubscribers) {\n      channels.bodySent.publish({ request: this })\n    }\n  }\n\n  onConnect (abort) {\n    assert(!this.aborted)\n    assert(!this.completed)\n\n    return this[kHandler].onConnect(abort)\n  }\n\n  onHeaders (statusCode, headers, resume, statusText) {\n    assert(!this.aborted)\n    assert(!this.completed)\n\n    if (channels.headers.hasSubscribers) {\n      channels.headers.publish({ request: this, response: { statusCode, headers, statusText } })\n    }\n\n    return this[kHandler].onHeaders(statusCode, headers, resume, statusText)\n  }\n\n  onData (chunk) {\n    assert(!this.aborted)\n    assert(!this.completed)\n\n    return this[kHandler].onData(chunk)\n  }\n\n  onUpgrade (statusCode, headers, socket) {\n    assert(!this.aborted)\n    assert(!this.completed)\n\n    return this[kHandler].onUpgrade(statusCode, headers, socket)\n  }\n\n  onComplete (trailers) {\n    assert(!this.aborted)\n\n    this.completed = true\n    if (channels.trailers.hasSubscribers) {\n      channels.trailers.publish({ request: this, trailers })\n    }\n    return this[kHandler].onComplete(trailers)\n  }\n\n  onError (error) {\n    if (channels.error.hasSubscribers) {\n      channels.error.publish({ request: this, error })\n    }\n\n    if (this.aborted) {\n      return\n    }\n    this.aborted = true\n    return this[kHandler].onError(error)\n  }\n\n  addHeader (key, value) {\n    processHeader(this, key, value)\n    return this\n  }\n}\n\nfunction processHeader (request, key, val) {\n  if (val && typeof val === 'object') {\n    throw new InvalidArgumentError(`invalid ${key} header`)\n  } else if (val === undefined) {\n    return\n  }\n\n  if (\n    request.host === null &&\n    key.length === 4 &&\n    key.toLowerCase() === 'host'\n  ) {\n    // Consumed by Client\n    request.host = val\n  } else if (\n    request.contentLength === null &&\n    key.length === 14 &&\n    key.toLowerCase() === 'content-length'\n  ) {\n    request.contentLength = parseInt(val, 10)\n    if (!Number.isFinite(request.contentLength)) {\n      throw new InvalidArgumentError('invalid content-length header')\n    }\n  } else if (\n    request.contentType === null &&\n    key.length === 12 &&\n    key.toLowerCase() === 'content-type' &&\n    headerCharRegex.exec(val) === null\n  ) {\n    request.contentType = val\n    request.headers += `${key}: ${val}\\r\\n`\n  } else if (\n    key.length === 17 &&\n    key.toLowerCase() === 'transfer-encoding'\n  ) {\n    throw new InvalidArgumentError('invalid transfer-encoding header')\n  } else if (\n    key.length === 10 &&\n    key.toLowerCase() === 'connection'\n  ) {\n    throw new InvalidArgumentError('invalid connection header')\n  } else if (\n    key.length === 10 &&\n    key.toLowerCase() === 'keep-alive'\n  ) {\n    throw new InvalidArgumentError('invalid keep-alive header')\n  } else if (\n    key.length === 7 &&\n    key.toLowerCase() === 'upgrade'\n  ) {\n    throw new InvalidArgumentError('invalid upgrade header')\n  } else if (\n    key.length === 6 &&\n    key.toLowerCase() === 'expect'\n  ) {\n    throw new NotSupportedError('expect header not supported')\n  } else if (tokenRegExp.exec(key) === null) {\n    throw new InvalidArgumentError('invalid header key')\n  } else if (headerCharRegex.exec(val) !== null) {\n    throw new InvalidArgumentError(`invalid ${key} header`)\n  } else {\n    request.headers += `${key}: ${val}\\r\\n`\n  }\n}\n\nmodule.exports = Request\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}