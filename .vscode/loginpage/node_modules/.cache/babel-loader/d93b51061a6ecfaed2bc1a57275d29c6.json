{"ast":null,"code":"System.register(\"../../lib/ActorListener\", [], function () {\n  \"use strict\";\n\n  var __moduleName = \"../../lib/ActorListener\";\n\n  var co = require(\"co\");\n\n  var ActorListener = function ActorListener(actorRepos) {\n    this.repos = {};\n    this.actorRepos = actorRepos;\n  };\n\n  $traceurRuntime.createClass(ActorListener, {\n    listen: function (actor, eventName, handleMethodName, cxt, onlyContext) {\n      var actorId = actor.id,\n          actorType = actor.typeName,\n          repo,\n          listener = {\n        actorId: actorId,\n        actorType: actorType,\n        handleMethodName: handleMethodName,\n        cxt: cxt,\n        onlyContext: onlyContext\n      };\n      repo = (repo = this.repos[$traceurRuntime.toProperty(eventName)]) ? this.repos[$traceurRuntime.toProperty(eventName)] : this.repos[$traceurRuntime.toProperty(eventName)] = [];\n      repo.push(listener);\n    },\n    findListener: function (eventName) {\n      return this.repos[$traceurRuntime.toProperty(eventName)] || [];\n    },\n    emit: function (event) {\n      var self = this;\n      co($traceurRuntime.initGeneratorFunction(function $__1() {\n        var list, i, len, listener, actorRepo, actor;\n        return $traceurRuntime.createGeneratorInstance(function ($ctx) {\n          while (true) switch ($ctx.state) {\n            case 0:\n              list = self.findListener(event.name);\n              $ctx.state = 13;\n              break;\n\n            case 13:\n              i = 0, len = list.length;\n              $ctx.state = 11;\n              break;\n\n            case 11:\n              $ctx.state = i < len ? 5 : -2;\n              break;\n\n            case 8:\n              i++;\n              $ctx.state = 11;\n              break;\n\n            case 5:\n              listener = list[$traceurRuntime.toProperty(i)];\n              actorRepo = self.actorRepos[$traceurRuntime.toProperty(listener.actorType)];\n              $ctx.state = 6;\n              break;\n\n            case 6:\n              $ctx.state = 2;\n              return actorRepo.get(listener.actorId);\n\n            case 2:\n              actor = $ctx.sent;\n              $ctx.state = 4;\n              break;\n\n            case 4:\n              if (actor) {\n                actor.call(listener.handleMethodName, event, null, listener.contextId);\n              }\n\n              $ctx.state = 8;\n              break;\n\n            default:\n              return $ctx.end();\n          }\n        }, $__1, this);\n      }))();\n    }\n  }, {});\n  module.exports = ActorListener;\n  return {};\n});\nSystem.get(\"../../lib/ActorListener\" + '');","map":{"version":3,"names":["System","register","__moduleName","co","require","ActorListener","actorRepos","repos","$traceurRuntime","createClass","listen","actor","eventName","handleMethodName","cxt","onlyContext","actorId","id","actorType","typeName","repo","listener","toProperty","push","findListener","emit","event","self","initGeneratorFunction","$__1","list","i","len","actorRepo","createGeneratorInstance","$ctx","state","name","length","get","sent","call","contextId","end","module","exports"],"sources":["C:/Users/LeonyX/Documents/Blockchain/.vscode/loginpage/node_modules/domain/dist/lib/ActorListener.js"],"sourcesContent":["System.register(\"../../lib/ActorListener\", [], function() {\n  \"use strict\";\n  var __moduleName = \"../../lib/ActorListener\";\n  var co = require(\"co\");\n  var ActorListener = function ActorListener(actorRepos) {\n    this.repos = {};\n    this.actorRepos = actorRepos;\n  };\n  ($traceurRuntime.createClass)(ActorListener, {\n    listen: function(actor, eventName, handleMethodName, cxt, onlyContext) {\n      var actorId = actor.id,\n          actorType = actor.typeName,\n          repo,\n          listener = {\n            actorId: actorId,\n            actorType: actorType,\n            handleMethodName: handleMethodName,\n            cxt: cxt,\n            onlyContext: onlyContext\n          };\n      repo = (repo = this.repos[$traceurRuntime.toProperty(eventName)]) ? this.repos[$traceurRuntime.toProperty(eventName)] : (this.repos[$traceurRuntime.toProperty(eventName)] = []);\n      repo.push(listener);\n    },\n    findListener: function(eventName) {\n      return this.repos[$traceurRuntime.toProperty(eventName)] || [];\n    },\n    emit: function(event) {\n      var self = this;\n      co($traceurRuntime.initGeneratorFunction(function $__1() {\n        var list,\n            i,\n            len,\n            listener,\n            actorRepo,\n            actor;\n        return $traceurRuntime.createGeneratorInstance(function($ctx) {\n          while (true)\n            switch ($ctx.state) {\n              case 0:\n                list = self.findListener(event.name);\n                $ctx.state = 13;\n                break;\n              case 13:\n                i = 0, len = list.length;\n                $ctx.state = 11;\n                break;\n              case 11:\n                $ctx.state = (i < len) ? 5 : -2;\n                break;\n              case 8:\n                i++;\n                $ctx.state = 11;\n                break;\n              case 5:\n                listener = list[$traceurRuntime.toProperty(i)];\n                actorRepo = self.actorRepos[$traceurRuntime.toProperty(listener.actorType)];\n                $ctx.state = 6;\n                break;\n              case 6:\n                $ctx.state = 2;\n                return actorRepo.get(listener.actorId);\n              case 2:\n                actor = $ctx.sent;\n                $ctx.state = 4;\n                break;\n              case 4:\n                if (actor) {\n                  actor.call(listener.handleMethodName, event, null, listener.contextId);\n                }\n                $ctx.state = 8;\n                break;\n              default:\n                return $ctx.end();\n            }\n        }, $__1, this);\n      }))();\n    }\n  }, {});\n  module.exports = ActorListener;\n  return {};\n});\nSystem.get(\"../../lib/ActorListener\" + '');\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}