{"ast":null,"code":"'use strict';\n/**\n * @module Landing\n */\n\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\n\nvar inherits = require('../utils').inherits;\n\nvar constants = require('../runner').constants;\n\nvar EVENT_RUN_BEGIN = constants.EVENT_RUN_BEGIN;\nvar EVENT_RUN_END = constants.EVENT_RUN_END;\nvar EVENT_TEST_END = constants.EVENT_TEST_END;\n\nvar STATE_FAILED = require('../runnable').constants.STATE_FAILED;\n\nvar cursor = Base.cursor;\nvar color = Base.color;\n/**\n * Expose `Landing`.\n */\n\nexports = module.exports = Landing;\n/**\n * Airplane color.\n */\n\nBase.colors.plane = 0;\n/**\n * Airplane crash color.\n */\n\nBase.colors['plane crash'] = 31;\n/**\n * Runway color.\n */\n\nBase.colors.runway = 90;\n/**\n * Constructs a new `Landing` reporter instance.\n *\n * @public\n * @class\n * @memberof Mocha.reporters\n * @extends Mocha.reporters.Base\n * @param {Runner} runner - Instance triggers reporter actions.\n * @param {Object} [options] - runner options\n */\n\nfunction Landing(runner, options) {\n  Base.call(this, runner, options);\n  var self = this;\n  var width = Base.window.width * 0.75 | 0;\n  var stream = process.stdout;\n  var plane = color('plane', '✈');\n  var crashed = -1;\n  var n = 0;\n  var total = 0;\n\n  function runway() {\n    var buf = Array(width).join('-');\n    return '  ' + color('runway', buf);\n  }\n\n  runner.on(EVENT_RUN_BEGIN, function () {\n    stream.write('\\n\\n\\n  ');\n    cursor.hide();\n  });\n  runner.on(EVENT_TEST_END, function (test) {\n    // check if the plane crashed\n    var col = crashed === -1 ? width * ++n / ++total | 0 : crashed; // show the crash\n\n    if (test.state === STATE_FAILED) {\n      plane = color('plane crash', '✈');\n      crashed = col;\n    } // render landing strip\n\n\n    stream.write('\\u001b[' + (width + 1) + 'D\\u001b[2A');\n    stream.write(runway());\n    stream.write('\\n  ');\n    stream.write(color('runway', Array(col).join('⋅')));\n    stream.write(plane);\n    stream.write(color('runway', Array(width - col).join('⋅') + '\\n'));\n    stream.write(runway());\n    stream.write('\\u001b[0m');\n  });\n  runner.once(EVENT_RUN_END, function () {\n    cursor.show();\n    process.stdout.write('\\n');\n    self.epilogue();\n  }); // if cursor is hidden when we ctrl-C, then it will remain hidden unless...\n\n  process.once('SIGINT', function () {\n    cursor.show();\n    process.nextTick(function () {\n      process.kill(process.pid, 'SIGINT');\n    });\n  });\n}\n/**\n * Inherit from `Base.prototype`.\n */\n\n\ninherits(Landing, Base);\nLanding.description = 'Unicode landing strip';","map":{"version":3,"names":["Base","require","inherits","constants","EVENT_RUN_BEGIN","EVENT_RUN_END","EVENT_TEST_END","STATE_FAILED","cursor","color","exports","module","Landing","colors","plane","runway","runner","options","call","self","width","window","stream","process","stdout","crashed","n","total","buf","Array","join","on","write","hide","test","col","state","once","show","epilogue","nextTick","kill","pid","description"],"sources":["C:/Users/LeonyX/Documents/Blockchain/.vscode/loginpage/node_modules/mocha/lib/reporters/landing.js"],"sourcesContent":["'use strict';\n/**\n * @module Landing\n */\n/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar inherits = require('../utils').inherits;\nvar constants = require('../runner').constants;\nvar EVENT_RUN_BEGIN = constants.EVENT_RUN_BEGIN;\nvar EVENT_RUN_END = constants.EVENT_RUN_END;\nvar EVENT_TEST_END = constants.EVENT_TEST_END;\nvar STATE_FAILED = require('../runnable').constants.STATE_FAILED;\n\nvar cursor = Base.cursor;\nvar color = Base.color;\n\n/**\n * Expose `Landing`.\n */\n\nexports = module.exports = Landing;\n\n/**\n * Airplane color.\n */\n\nBase.colors.plane = 0;\n\n/**\n * Airplane crash color.\n */\n\nBase.colors['plane crash'] = 31;\n\n/**\n * Runway color.\n */\n\nBase.colors.runway = 90;\n\n/**\n * Constructs a new `Landing` reporter instance.\n *\n * @public\n * @class\n * @memberof Mocha.reporters\n * @extends Mocha.reporters.Base\n * @param {Runner} runner - Instance triggers reporter actions.\n * @param {Object} [options] - runner options\n */\nfunction Landing(runner, options) {\n  Base.call(this, runner, options);\n\n  var self = this;\n  var width = (Base.window.width * 0.75) | 0;\n  var stream = process.stdout;\n\n  var plane = color('plane', '✈');\n  var crashed = -1;\n  var n = 0;\n  var total = 0;\n\n  function runway() {\n    var buf = Array(width).join('-');\n    return '  ' + color('runway', buf);\n  }\n\n  runner.on(EVENT_RUN_BEGIN, function () {\n    stream.write('\\n\\n\\n  ');\n    cursor.hide();\n  });\n\n  runner.on(EVENT_TEST_END, function (test) {\n    // check if the plane crashed\n    var col = crashed === -1 ? ((width * ++n) / ++total) | 0 : crashed;\n    // show the crash\n    if (test.state === STATE_FAILED) {\n      plane = color('plane crash', '✈');\n      crashed = col;\n    }\n\n    // render landing strip\n    stream.write('\\u001b[' + (width + 1) + 'D\\u001b[2A');\n    stream.write(runway());\n    stream.write('\\n  ');\n    stream.write(color('runway', Array(col).join('⋅')));\n    stream.write(plane);\n    stream.write(color('runway', Array(width - col).join('⋅') + '\\n'));\n    stream.write(runway());\n    stream.write('\\u001b[0m');\n  });\n\n  runner.once(EVENT_RUN_END, function () {\n    cursor.show();\n    process.stdout.write('\\n');\n    self.epilogue();\n  });\n\n  // if cursor is hidden when we ctrl-C, then it will remain hidden unless...\n  process.once('SIGINT', function () {\n    cursor.show();\n    process.nextTick(function () {\n      process.kill(process.pid, 'SIGINT');\n    });\n  });\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\ninherits(Landing, Base);\n\nLanding.description = 'Unicode landing strip';\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}