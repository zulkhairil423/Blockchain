{"ast":null,"code":"var retry = require('retry');\n\nmodule.exports = function (func, timeout, retryfn, callback) {\n  if (!callback) {\n    callback = retryfn;\n    retryfn = null;\n  }\n\n  var start = new Date();\n  func(function (err) {\n    if (!err && (!retryfn || !retryfn.apply(this, arguments))) {\n      return callback.apply(this, arguments);\n    } else {\n      var funcDuration = new Date().getTime() - start.getTime();\n\n      if (funcDuration <= 1) {\n        funcDuration = 1;\n      }\n\n      if (timeout < funcDuration) {\n        return callback(err);\n      }\n\n      var retries = timeout / funcDuration - 1;\n\n      if (retries < 0 || !isFinite(retries)) {\n        retries = 0;\n      }\n\n      var operation = retry.operation({\n        retries: retries,\n        factor: 1,\n        minTimeout: funcDuration / 2,\n        maxTimeout: timeout,\n        randomize: false\n      });\n      operation.attempt(function (currentAttempt) {\n        func(function (err) {\n          var diff = new Date().getTime() - start.getTime();\n\n          if (diff >= timeout) {\n            return callback.apply(this, arguments);\n          }\n\n          if (err && retryfn && retryfn.apply(this, arguments)) {\n            if (operation.retry(err)) {\n              return;\n            }\n          } else if (!retryfn) {\n            if (operation.retry(err)) {\n              return;\n            }\n          }\n\n          callback.apply(this, arguments);\n        });\n      });\n    }\n  });\n};","map":{"version":3,"names":["retry","require","module","exports","func","timeout","retryfn","callback","start","Date","err","apply","arguments","funcDuration","getTime","retries","isFinite","operation","factor","minTimeout","maxTimeout","randomize","attempt","currentAttempt","diff"],"sources":["C:/Users/LeonyX/Documents/Blockchain/.vscode/loginpage/node_modules/tolerance/index.js"],"sourcesContent":["var retry = require('retry');\n\nmodule.exports = function(func, timeout, retryfn, callback) {\n\n  if (!callback) {\n    callback = retryfn;\n    retryfn = null;\n  }\n\n  var start = new Date();\n\n  func(function(err) {\n\n    if (!err && (!retryfn || !retryfn.apply(this, arguments))) {\n      return callback.apply(this, arguments);\n    } else {\n\n      var funcDuration = (new Date()).getTime() - start.getTime();\n\n      if (funcDuration <= 1) {\n        funcDuration = 1;\n      }\n\n      if (timeout < funcDuration) {\n        return callback(err);\n      }\n\n      var retries = timeout / funcDuration - 1;\n      if (retries < 0 || !isFinite(retries)) {\n        retries = 0;\n      }\n\n      var operation = retry.operation({\n        retries: retries,\n        factor: 1,\n        minTimeout: funcDuration / 2,\n        maxTimeout: timeout,\n        randomize: false\n      });\n\n      operation.attempt(function(currentAttempt) {\n\n        func(function(err) {\n\n          var diff = (new Date()).getTime() - start.getTime();\n\n          if (diff >= timeout) {\n            return callback.apply(this, arguments);\n          }\n\n          if (err && retryfn && retryfn.apply(this, arguments)) {\n            if (operation.retry(err)) {\n              return;\n            }\n          } else if (!retryfn) {\n            if (operation.retry(err)) {\n              return;\n            }\n          }\n\n          callback.apply(this, arguments);\n        });\n\n      });\n    }\n\n  });\n\n};"],"mappings":"AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAASC,IAAT,EAAeC,OAAf,EAAwBC,OAAxB,EAAiCC,QAAjC,EAA2C;EAE1D,IAAI,CAACA,QAAL,EAAe;IACbA,QAAQ,GAAGD,OAAX;IACAA,OAAO,GAAG,IAAV;EACD;;EAED,IAAIE,KAAK,GAAG,IAAIC,IAAJ,EAAZ;EAEAL,IAAI,CAAC,UAASM,GAAT,EAAc;IAEjB,IAAI,CAACA,GAAD,KAAS,CAACJ,OAAD,IAAY,CAACA,OAAO,CAACK,KAAR,CAAc,IAAd,EAAoBC,SAApB,CAAtB,CAAJ,EAA2D;MACzD,OAAOL,QAAQ,CAACI,KAAT,CAAe,IAAf,EAAqBC,SAArB,CAAP;IACD,CAFD,MAEO;MAEL,IAAIC,YAAY,GAAI,IAAIJ,IAAJ,EAAD,CAAaK,OAAb,KAAyBN,KAAK,CAACM,OAAN,EAA5C;;MAEA,IAAID,YAAY,IAAI,CAApB,EAAuB;QACrBA,YAAY,GAAG,CAAf;MACD;;MAED,IAAIR,OAAO,GAAGQ,YAAd,EAA4B;QAC1B,OAAON,QAAQ,CAACG,GAAD,CAAf;MACD;;MAED,IAAIK,OAAO,GAAGV,OAAO,GAAGQ,YAAV,GAAyB,CAAvC;;MACA,IAAIE,OAAO,GAAG,CAAV,IAAe,CAACC,QAAQ,CAACD,OAAD,CAA5B,EAAuC;QACrCA,OAAO,GAAG,CAAV;MACD;;MAED,IAAIE,SAAS,GAAGjB,KAAK,CAACiB,SAAN,CAAgB;QAC9BF,OAAO,EAAEA,OADqB;QAE9BG,MAAM,EAAE,CAFsB;QAG9BC,UAAU,EAAEN,YAAY,GAAG,CAHG;QAI9BO,UAAU,EAAEf,OAJkB;QAK9BgB,SAAS,EAAE;MALmB,CAAhB,CAAhB;MAQAJ,SAAS,CAACK,OAAV,CAAkB,UAASC,cAAT,EAAyB;QAEzCnB,IAAI,CAAC,UAASM,GAAT,EAAc;UAEjB,IAAIc,IAAI,GAAI,IAAIf,IAAJ,EAAD,CAAaK,OAAb,KAAyBN,KAAK,CAACM,OAAN,EAApC;;UAEA,IAAIU,IAAI,IAAInB,OAAZ,EAAqB;YACnB,OAAOE,QAAQ,CAACI,KAAT,CAAe,IAAf,EAAqBC,SAArB,CAAP;UACD;;UAED,IAAIF,GAAG,IAAIJ,OAAP,IAAkBA,OAAO,CAACK,KAAR,CAAc,IAAd,EAAoBC,SAApB,CAAtB,EAAsD;YACpD,IAAIK,SAAS,CAACjB,KAAV,CAAgBU,GAAhB,CAAJ,EAA0B;cACxB;YACD;UACF,CAJD,MAIO,IAAI,CAACJ,OAAL,EAAc;YACnB,IAAIW,SAAS,CAACjB,KAAV,CAAgBU,GAAhB,CAAJ,EAA0B;cACxB;YACD;UACF;;UAEDH,QAAQ,CAACI,KAAT,CAAe,IAAf,EAAqBC,SAArB;QACD,CAnBG,CAAJ;MAqBD,CAvBD;IAwBD;EAEF,CAvDG,CAAJ;AAyDD,CAlED"},"metadata":{},"sourceType":"script"}